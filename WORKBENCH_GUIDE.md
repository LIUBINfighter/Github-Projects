# GitHub Issue Workbench - 使用指南

## 🚀 快速开始

GitHub Issue Workbench 是一个全新的工作区视图，提供了比传统侧边栏更强大的 Issue 管理功能。

### 打开 Workbench

有两种方式可以打开 Workbench：

1. **命令面板**: `Ctrl/Cmd + P` → 搜索 "Open GitHub Workbench"
2. **功能区图标**: 点击左侧的 GitHub 图标 → 选择 "Open Workbench"

## 📐 界面布局

Workbench 采用三面板设计：

```
+-------------------+-------------------------+------------------+
|   智能队列        |      核心编辑区         |    本地上下文    |
|   (Smart Queue)   |   (Core Editor)         |  (Local Context) |
|                   |                         |                  |
| 📥 未处理 (2)     | [Issue Title]           | 🔗 关联笔记      |
| 📝 起草中 (1)     | [Labels] [Assignee]     |   - Meeting.md   |
| 🔗 已链接 (15)    |                         |   - Design.md    |
| 📦 归档 (0)       | Markdown 编辑器         |                  |
|                   | 或增强查看器            | 📄 本地引用      |
|                   |                         |   - diagram.png  |
|                   | [操作按钮]              |                  |
|                   |                         | ✅ 相关任务      |
|                   |                         |   - [ ] Review   |
+-------------------+-------------------------+------------------+
```

## 🔄 工作流程

### 1. 处理新 Issue（未处理 → 起草中）

1. 在左侧队列中选择一个"未处理"的 Issue
2. 在右侧查看它的本地上下文
3. 点击"起草回复"按钮，开始编写响应

### 2. 创建新 Issue（起草中）

1. 点击队列顶部的 ➕ 按钮
2. 在中心编辑区填写标题、选择仓库、编写内容
3. 使用工具栏按钮插入本地笔记链接
4. 点击"推送到 GitHub"发布

### 3. 管理已有 Issue（已链接）

1. 选择一个"已链接"的 Issue
2. 查看其在知识库中的所有关联
3. 创建新的关联笔记或更新现有笔记

## 🎯 核心功能

### 智能队列 (左侧面板)

- **📥 未处理**: 从 GitHub 同步但未本地处理的 Issue
- **📝 起草中**: 正在编写但未推送的草稿
- **🔗 已链接**: 已推送且有本地关联的 Issue
- **📦 归档**: 手动标记为完成的 Issue

### 核心编辑区 (中心面板)

根据选中的 Issue 类型，会显示不同的界面：

#### 草稿模式
- **元数据面板**: 编辑标题、标签、负责人等
- **Markdown 编辑器**: 完整的 Obsidian 风格编辑体验
- **工具栏**: 
  - 🔗 插入本地笔记链接
  - 📋 使用预设模板
  - 🚀 推送到 GitHub

#### 查看模式  
- **增强渲染**: 自动识别并增强 `obsidian://` 链接
- **操作按钮**:
  - 📝 创建关联笔记
  - 💬 起草回复
  - 🌐 在浏览器中打开

### 本地上下文 (右侧面板)

- **🔗 关联笔记**: 
  - 显式链接（`[[...]]`）
  - 隐式引用（提及 Issue 编号）
- **📄 本地引用**: Issue 中引用的本地文件
- **✅ 相关任务**: 知识库中包含此 Issue 编号的待办事项

## 💡 高级技巧

### 1. 在 Issue 中引用本地文件

在草稿中，你可以这样引用本地文件：

```markdown
## 相关设计

参考我们的架构设计：[[系统架构概览]]

具体的接口定义见：[API 文档](obsidian://open?path=docs/api.md)

![流程图](obsidian://open?path=attachments/flow-diagram.png)
```

推送后，这些链接会：
- 在 GitHub 上显示为普通链接  
- 在 Workbench 中可以直接点击打开本地文件

### 2. 利用隐式引用

在你的笔记中提及 Issue 编号：

```markdown
# 2024-01-16 会议纪要

讨论了 GH-123 的修复方案，决定采用方案 B。

## 待办事项
- [ ] 实现 GH-123 的修复
- [ ] 更新 GH-124 的需求文档
```

这些引用会自动在相关 Issue 的本地上下文中显示。

### 3. 使用模板

创建 Issue 模板文件（如 `templates/bug-report.md`）：

```markdown
## 问题描述

简述问题...

## 复现步骤

1. 
2. 
3. 

## 预期行为

...

## 实际行为

...

## 环境信息

- OS: 
- Browser: 
- Version: 

## 相关文件

- [[相关笔记]]
- [日志文件](obsidian://open?path=logs/error.log)
```

## 🔧 配置建议

1. **仓库设置**: 确保在设置中激活需要的仓库
2. **模板目录**: 创建专门的模板文件夹
3. **任务前缀**: 在任务中使用 `GH-` 前缀来标识 Issue 编号

## 🚨 注意事项

- **草稿与发布分离**: 推送后的 Issue 以远端为准，本地作为快照和链接存在
- **增量同步**: 定期同步只会拉取更新的 Issue，不会影响你的本地草稿
- **网络依赖**: 推送和同步功能需要网络连接和有效的 GitHub Token

## 📝 后续开发计划

- [ ] 支持 Pull Request 管理
- [ ] 添加 GitHub Projects 看板视图  
- [ ] 实现评论的双向同步
- [ ] 支持批量操作
- [ ] 添加更多模板选项
